import{_ as F}from"./nuxt-link.66d77573.js";import{f as $,x as J,r as v,g as c,o as L,c as j,a as l,b as t,w as s,d as n,i as u,j as p,m as q,y as S}from"./entry.d9ff7845.js";const z=l("div",{class:"text-4xl text-center"},"Settings",-1),G=l("div",{class:"mt-4 text-2xl text-center"},"Export",-1),H={class:"w-fit mx-auto text-center"},K=l("div",{class:"mt-4 text-2xl text-center"},"Import",-1),Q={class:"w-fit mx-auto text-center"},X=l("div",{class:"mt-4 text-2xl text-center"},"License Info",-1),Y={class:"w-fit mx-auto"},Z=l("div",{class:"text-xl"},"ConflictMode",-1),ee=l("div",{class:"my-4"},"SRC: Do not overwrite values when conflict occurs.",-1),te=l("div",{class:"my-4"},"DST: Overwrite values when conflict occurs.",-1),oe=l("div",{class:"my-4"},"APPEND: Add words at any time. Duplication may occur.",-1),le=l("div",{class:"text-red-500 text-bold"},"This operation cannot be undone.",-1),se=l("div",{class:"text-xl"},"ConflictMode",-1),ae=l("div",{class:"my-4"},"SRC: Do not overwrite values when conflict occurs.",-1),ne=l("div",{class:"my-4"},"DST: Overwrite values when conflict occurs.",-1),ie=l("div",{class:"my-4"},"APPEND: Add words at any time. Duplication may occur.",-1),de=l("div",{class:"text-red-500 text-bold"},"This operation cannot be undone.",-1),me=$({__name:"settings",setup(re){const{$service:k}=q(),{wordsToString:E,wordsWithScoreToString:T,mergeWords:P,mergeWordsWithScore:W}=k.settings,{copy:w}=J(),_=v(!1),g=v(""),i=a=>{g.value=a,_.value=!0},N=()=>{const a=S("clipboard-write");try{if(a.value==="denied")throw new Error("Permission denied");w(T()).then(()=>i("Successfully Exported to Clipboard"))}catch{i("Couldn't write to Clipboard")}},A=()=>{const a=S("clipboard-write");try{if(a.value==="denied")throw new Error("Permission denied");w(E()).then(()=>i("Successfully Exported to Clipboard"))}catch{i("Couldn't write to Clipboard")}},f=v(!1),x=v(!1),y=[{label:"SRC",value:"src"},{label:"DST",value:"dst"},{label:"APPEND",value:"append"}],r=v("src"),d=v(""),C=async()=>{try{if(S("clipboard-read").value==="denied")throw new Error("Permission denied");d.value=await navigator.clipboard.readText(),i("Successully read clipboard")}catch{i("Couldn't read clipboard")}},B=()=>{try{W(JSON.parse(d.value),r.value),i("Successfully Imported.")}catch{i("Failed to import data. Please make sure the format is correct.")}},M=()=>{try{P(JSON.parse(d.value),r.value),i("Successfully Imported.")}catch(a){console.error(a),i("Failed to import data. Please make sure the format is correct.")}};return(a,e)=>{const m=c("UiButton"),O=F,R=c("UiSnackbar"),b=c("UiDialogTitle"),D=c("UiSelect"),V=c("UiTextfield"),U=c("UiDialogContent"),h=c("UiDialogActions"),I=c("UiDialog");return L(),j("div",null,[z,G,l("div",H,[t(m,{class:"m-2",raised:"",icon:"output",onClick:N},{default:s(()=>[n("Export Savedata (Including Score)")]),_:1}),t(m,{class:"m-2",raised:"",icon:"output",onClick:A},{default:s(()=>[n("Export Words (Excluding Score)")]),_:1})]),K,l("div",Q,[t(m,{class:"m-2",raised:"",icon:"input",onClick:e[0]||(e[0]=o=>f.value=!0)},{default:s(()=>[n("Import Savedata (Including Score)")]),_:1}),t(m,{class:"m-2",raised:"",icon:"input",onClick:e[1]||(e[1]=o=>x.value=!0)},{default:s(()=>[n("Import Words (Excluding Score)")]),_:1})]),X,l("div",Y,[t(O,{to:"/license"},{default:s(()=>[t(m,{raised:"",icon:"list_alt"},{default:s(()=>[n("license")]),_:1})]),_:1})]),t(R,{modelValue:u(_),"onUpdate:modelValue":e[2]||(e[2]=o=>p(_)?_.value=o:null),"timeout-ms":5e3,message:u(g),"action-type":1},null,8,["modelValue","message"]),t(I,{modelValue:u(f),"onUpdate:modelValue":e[5]||(e[5]=o=>p(f)?f.value=o:null),"mask-closable":"",onConfirm:e[6]||(e[6]=o=>o&&B())},{default:s(()=>[t(b,null,{default:s(()=>[n("Import Savedata")]),_:1}),t(U,null,{default:s(()=>[l("div",null,[Z,t(D,{class:"py-2",modelValue:u(r),"onUpdate:modelValue":e[3]||(e[3]=o=>p(r)?r.value=o:null),options:y},null,8,["modelValue"]),ee,te,oe,t(V,{class:"w-full my-2",modelValue:u(d),"onUpdate:modelValue":e[4]||(e[4]=o=>p(d)?d.value=o:null)},{default:s(()=>[n("Data to Import")]),_:1},8,["modelValue"]),t(m,{class:"w-full my-2",raised:"",onClick:C},{default:s(()=>[n("Import from Clipboard")]),_:1}),le])]),_:1}),t(h,{"accept-text":"Import Savedata"})]),_:1},8,["modelValue"]),t(I,{modelValue:u(x),"onUpdate:modelValue":e[9]||(e[9]=o=>p(x)?x.value=o:null),"mask-closable":"",onConfirm:e[10]||(e[10]=o=>o&&M())},{default:s(()=>[t(b,null,{default:s(()=>[n("Import Savedata")]),_:1}),t(U,null,{default:s(()=>[l("div",null,[se,t(D,{class:"py-2",modelValue:u(r),"onUpdate:modelValue":e[7]||(e[7]=o=>p(r)?r.value=o:null),options:y},null,8,["modelValue"]),ae,ne,ie,t(V,{class:"w-full my-2",modelValue:u(d),"onUpdate:modelValue":e[8]||(e[8]=o=>p(d)?d.value=o:null)},{default:s(()=>[n("Data to Import")]),_:1},8,["modelValue"]),t(m,{class:"w-full my-2",raised:"",onClick:C},{default:s(()=>[n("Import from Clipboard")]),_:1}),de])]),_:1}),t(h,{"accept-text":"Import Words"})]),_:1},8,["modelValue"])])}}});export{me as default};
