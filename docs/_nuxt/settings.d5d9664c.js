import{_ as $}from"./nuxt-link.78bc522a.js";import{f as J,x as j,r as f,g as u,o as H,c as q,a as o,b as t,w as l,d as a,i as m,j as p,m as z,y as h}from"./entry.61166ef0.js";const G=()=>{navigator.serviceWorker.getRegistrations().then(function(_){for(const v of _)v.unregister()}),caches.keys().then(function(_){const v=[];_.forEach(function(x){x&&v.push(caches.delete(x))})})},K=o("div",{class:"text-4xl text-center"},"Settings",-1),Q=o("div",{class:"mt-4 text-2xl text-center"},"Export",-1),X={class:"w-fit mx-auto text-center"},Y=o("div",{class:"mt-4 text-2xl text-center"},"Import",-1),Z={class:"w-fit mx-auto text-center"},ee=o("div",{class:"mt-4 text-2xl text-center"},"License Info",-1),te={class:"w-fit mx-auto"},oe=o("div",{class:"mt-4 text-2xl text-center"},"Check for Update the App",-1),se={class:"w-fit mx-auto"},le=o("div",{class:"text-xl"},"ConflictMode",-1),ae=o("div",{class:"my-4"},"SRC: Do not overwrite values when conflict occurs.",-1),ne=o("div",{class:"my-4"},"DST: Overwrite values when conflict occurs.",-1),ie=o("div",{class:"my-4"},"APPEND: Add words at any time. Duplication may occur.",-1),de=o("div",{class:"text-red-500 text-bold"},"This operation cannot be undone.",-1),re=o("div",{class:"text-xl"},"ConflictMode",-1),ce=o("div",{class:"my-4"},"SRC: Do not overwrite values when conflict occurs.",-1),ue=o("div",{class:"my-4"},"DST: Overwrite values when conflict occurs.",-1),me=o("div",{class:"my-4"},"APPEND: Add words at any time. Duplication may occur.",-1),pe=o("div",{class:"text-red-500 text-bold"},"This operation cannot be undone.",-1),_e=J({__name:"settings",setup(_){const{$service:v}=z(),{wordsToString:x,wordsWithScoreToString:W,mergeWords:P,mergeWordsWithScore:A}=v.settings,{copy:C}=j(),g=f(!1),y=f(""),n=i=>{y.value=i,g.value=!0},N=()=>{const i=h("clipboard-write");try{if(i.value==="denied")throw new Error("Permission denied");C(W()).then(()=>n("Successfully Exported to Clipboard"))}catch{n("Couldn't write to Clipboard")}},R=()=>{const i=h("clipboard-write");try{if(i.value==="denied")throw new Error("Permission denied");C(x()).then(()=>n("Successfully Exported to Clipboard"))}catch{n("Couldn't write to Clipboard")}},w=f(!1),S=f(!1),b=[{label:"SRC",value:"src"},{label:"DST",value:"dst"},{label:"APPEND",value:"append"}],r=f("src"),d=f(""),D=async()=>{try{if(h("clipboard-read").value==="denied")throw new Error("Permission denied");d.value=await navigator.clipboard.readText(),n("Successully read clipboard")}catch{n("Couldn't read clipboard")}},B=()=>{try{A(JSON.parse(d.value),r.value),n("Successfully Imported.")}catch{n("Failed to import data. Please make sure the format is correct.")}},M=()=>{try{P(JSON.parse(d.value),r.value),n("Successfully Imported.")}catch(i){console.error(i),n("Failed to import data. Please make sure the format is correct.")}},O=()=>{G(),n("Successfully cache deleted.Reloading the page..."),setTimeout(()=>{location.reload()},2e3)};return(i,e)=>{const c=u("UiButton"),F=$,L=u("UiSnackbar"),U=u("UiDialogTitle"),V=u("UiSelect"),k=u("UiTextfield"),E=u("UiDialogContent"),I=u("UiDialogActions"),T=u("UiDialog");return H(),q("div",null,[K,Q,o("div",X,[t(c,{class:"m-2",raised:"",icon:"output",onClick:N},{default:l(()=>[a("Export Savedata (Including Score)")]),_:1}),t(c,{class:"m-2",raised:"",icon:"output",onClick:R},{default:l(()=>[a("Export Words (Excluding Score)")]),_:1})]),Y,o("div",Z,[t(c,{class:"m-2",raised:"",icon:"input",onClick:e[0]||(e[0]=s=>w.value=!0)},{default:l(()=>[a("Import Savedata (Including Score)")]),_:1}),t(c,{class:"m-2",raised:"",icon:"input",onClick:e[1]||(e[1]=s=>S.value=!0)},{default:l(()=>[a("Import Words (Excluding Score)")]),_:1})]),ee,o("div",te,[t(F,{to:"/license"},{default:l(()=>[t(c,{raised:"",icon:"list_alt"},{default:l(()=>[a("license")]),_:1})]),_:1})]),oe,o("div",se,[t(c,{raised:"",icon:"browser_updated",onClick:O},{default:l(()=>[a("DELETE CACHE")]),_:1})]),t(L,{modelValue:m(g),"onUpdate:modelValue":e[2]||(e[2]=s=>p(g)?g.value=s:null),"timeout-ms":5e3,message:m(y),"action-type":1},null,8,["modelValue","message"]),t(T,{modelValue:m(w),"onUpdate:modelValue":e[5]||(e[5]=s=>p(w)?w.value=s:null),"mask-closable":"",onConfirm:e[6]||(e[6]=s=>s&&B())},{default:l(()=>[t(U,null,{default:l(()=>[a("Import Savedata")]),_:1}),t(E,null,{default:l(()=>[o("div",null,[le,t(V,{class:"py-2",modelValue:m(r),"onUpdate:modelValue":e[3]||(e[3]=s=>p(r)?r.value=s:null),options:b},null,8,["modelValue"]),ae,ne,ie,t(k,{class:"w-full my-2",modelValue:m(d),"onUpdate:modelValue":e[4]||(e[4]=s=>p(d)?d.value=s:null)},{default:l(()=>[a("Data to Import")]),_:1},8,["modelValue"]),t(c,{class:"w-full my-2",raised:"",onClick:D},{default:l(()=>[a("Import from Clipboard")]),_:1}),de])]),_:1}),t(I,{"accept-text":"Import Savedata"})]),_:1},8,["modelValue"]),t(T,{modelValue:m(S),"onUpdate:modelValue":e[9]||(e[9]=s=>p(S)?S.value=s:null),"mask-closable":"",onConfirm:e[10]||(e[10]=s=>s&&M())},{default:l(()=>[t(U,null,{default:l(()=>[a("Import Savedata")]),_:1}),t(E,null,{default:l(()=>[o("div",null,[re,t(V,{class:"py-2",modelValue:m(r),"onUpdate:modelValue":e[7]||(e[7]=s=>p(r)?r.value=s:null),options:b},null,8,["modelValue"]),ce,ue,me,t(k,{class:"w-full my-2",modelValue:m(d),"onUpdate:modelValue":e[8]||(e[8]=s=>p(d)?d.value=s:null)},{default:l(()=>[a("Data to Import")]),_:1},8,["modelValue"]),t(c,{class:"w-full my-2",raised:"",onClick:D},{default:l(()=>[a("Import from Clipboard")]),_:1}),pe])]),_:1}),t(I,{"accept-text":"Import Words"})]),_:1},8,["modelValue"])])}}});export{_e as default};
